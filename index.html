<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta name="description" content="LaurenHill Academy's website submission for the 2024 CRC competition"/>
    <title>LHA Robotics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link async rel="stylesheet" href="./style.css"/>
    <link rel="icon" type="image/x-icon" href="./assets/icons/favicon.png"/>
</head>

<body>
<div class="header">
    <a href="./index.html">
        <img type="image/png" src="./assets/icons/favicon.png" id="navImage" alt="Logo"/>
    </a>
    
    <button class="hamburger-icon">
        <img type="image/svg" src="./assets/icons/hamburger_light.svg" alt="Hamburger Icon" id="hamburgerIcon"/>
    </button>

    <div class="navbar">
        <menu class="navbar-buttons" id="links-menu">
            <li class="navbar" id="gameNav"><a href="./pages/game.html">Game</a></li>
            <li class="navbar" id="rosterNav"><a href="./pages/roster.html">Roster</a></li>
            <li class="navbar" id="journalNav"><a href="./pages/journal.html">Journal</a></li>
            <li class="navbar" id="ExpNav"><a href="./pages/experience.html">Experience</a></li>
        </menu>
    </div>

    <button class="theme" id="themeToggleButton">
        <img src="./assets/icons/theme/light.svg" alt="Website Theme Icon" id="themeIcon"/>
    </button>
    <div class="dropdown">
        <button class="dropdown_button" id="language">
            <img type="image/svg" src="./assets/icons/translate_light.svg" alt="Language" id="langIcon"/>
        </button>
        <div class="dropdown-content">
            <button class="langButton" id="enButton" >English</button>
            <button class="langButton" id="frButton">Français</button>
        </div>
    </div>
</div>

<article class="content">
    <br>
    <img type="image/webp" alt="Main logo" class="Media" id="logo" style="padding: 16px;">
    <br>
    <img type="image/webp" src="./assets/content/images/home/group_photo_2024.webp" 
         alt="Group photo 2024 LHA Robotics" id="mainpic"/>

    <h2 id="aboutUs"></h2>
    <div style="display: flex; flex-direction: row; justify-content: center; flex-wrap: wrap;">
        <p id="aboutText"></p>
        <iframe id="Map"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1151.8431481128896!2d-73.69838661776043!3d45.50362073936043!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4cc9181ae6881afd%3A0xb265cd79a9a9669e!2sLaurenHill%20Academy!5e0!3m2!1sen!2sca!4v1709528239144!5m2!1sen!2sca"
            width="851"
            height="450"
            style="border:0;"
            allowfullscreen="" loading="async"
            referrerpolicy="no-referrer-when-downgrade">
        </iframe>
    </div>

</article>

<div class="footer">
    Copyright © 2023-2024 LaurenHill Academy Robotics
    <div class="score" id="highscoreBox"></div>
    <div class="score" id="resetButton" hidden>Reset Score</div>
</div>

<script src="./script.js"></script>

<script>

    document.getElementById('enButton').addEventListener('click', () => setLanguage('en'));

    document.getElementById('frButton').addEventListener('click', () => setLanguage('fr'));

    function setLanguage(value) {
        console.log("clicked")
        localStorage.setItem('language', value);
        location.reload();
    }

    const script = document.createElement('script');
    script.src = `locales/${localStorage.getItem('language').split('-')[0]}.js`;
    script.onload = updateLocalization; // Call the function to update localization after the script is loaded
    document.head.appendChild(script);

    function updateLocalization() {
        // Access the localized strings from the loaded script
        const localizedStrings = window.localization || {};

        document.getElementById('aboutText').innerText = localizedStrings.home.about_us.text;
        document.getElementById('aboutUs').innerText = localizedStrings.home.about_us.title;
        document.getElementById('gameNav').innerHTML = `<a href="pages/game.html">${localizedStrings.menu_options.game}</a>`;
        document.getElementById('journalNav').innerHTML = `<a href="pages/journal.html">${localizedStrings.menu_options.journal}</a>`;
        document.getElementById('langIcon').alt = localizedStrings.menu_options.language;
        document.getElementById('rosterNav').innerHTML = `<a href="pages/roster.html">${localizedStrings.menu_options.roster}</a>`;
    }
</script>
</body>

</html>